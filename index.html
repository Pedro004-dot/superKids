
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Super Kids</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Bangers for titles, Comic Neue for text -->
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        /* Desktop: 2:3 Aspect Ratio. */
        --page-height: min(80vh, 750px);
        --page-width: calc(var(--page-height) * 0.666);
      }

      /* Fixed background layer */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background-color: #222;
        background-image: radial-gradient(#333 15%, transparent 16%), radial-gradient(#333 15%, transparent 16%);
        background-size: 60px 60px;
        background-position: 0 0, 30px 30px;
        z-index: -1;
        pointer-events: none;
      }

      body {
        min-height: 100vh;
        font-family: 'Comic Neue', sans-serif;
        margin: 0;
      }
      
      @media (min-width: 769px) {
        body { overflow-x: hidden; }
      }

      .font-comic { font-family: 'Bangers', cursive; }

      /* --- 3D Book Mechanics --- */
      .comic-scene {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0;
        perspective: 3500px;
        width: auto;
        height: auto;
        /* Reserve space for open book on desktop so arrows are pushed out */
        margin-left: calc(var(--page-width) * 0.6);
        margin-right: calc(var(--page-width) * 0.6);
      }

      .book {
        position: relative;
        width: var(--page-width);
        height: var(--page-height);
        transform-style: preserve-3d;
        transition: transform 0.5s ease;
      }
      
      /* Shift book right when opened to center the spread on desktop */
      .book.opened {
          transform: translateX(25%); 
      }
      @media (min-width: 1000px) {
          .book.opened { transform: translateX(calc(var(--page-width) / 2)); }
      }

      .paper {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transform-origin: left center;
        transform-style: preserve-3d;
        transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1.000);
        cursor: default; /* No pointer cursor since arrows are used */
      }

      .paper.flipped {
        transform: rotateY(-180deg);
      }

      .front, .back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        overflow: hidden;
        background-color: #0a0a0a;
        transform-style: preserve-3d;
      }

      .front {
         padding-left: 6px; 
         box-shadow: inset 25px 0 40px -20px rgba(0,0,0,0.6);
      }
      
      .back {
        transform: rotateY(180deg);
        padding-right: 6px;
        box-shadow: inset -25px 0 40px -20px rgba(0,0,0,0.6);
      }

      .gloss {
        position: absolute;
        inset: 0;
        background: 
            linear-gradient(115deg, transparent 35%, rgba(255,255,255,0.25) 45%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0.25) 55%, transparent 65%),
            linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, transparent 15%);
        pointer-events: none; 
        z-index: 30;
        mix-blend-mode: screen;
        opacity: 0.8;
      }

      .panel-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #fff;
        padding: 12px;
        box-sizing: border-box;
      }

      .panel-image {
        width: 100%;
        height: 100%;
        object-fit: contain; 
        display: block;
        pointer-events: none;
        background-color: #fff; 
      }

      .paper:first-child { 
          box-shadow: 25px 25px 50px rgba(0,0,0,0.8);
      }
      .paper:first-child .front {
         padding-left: 0;
         box-shadow: none;
      }
      .paper:first-child .front::before {
          content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 14px;
          background: linear-gradient(to right, #0a0a0a, #333 20%, #666 30%, #333 50%, #0a0a0a 100%);
          border-right: 1px solid #000;
          z-index: 25; 
          box-shadow: 2px 0 5px rgba(0,0,0,0.5);
      }
      .paper:first-child .front::after {
          content: ''; position: absolute; left: 14px; top: 0; bottom: 0; width: 4px;
          background: linear-gradient(to right, rgba(0,0,0,0.7), transparent);
          z-index: 25;
      }
      .paper:first-child .front .panel-container {
          padding: 0;
          background-color: #0a0a0a;
          padding-left: 14px; 
      }
      .paper:first-child .front .panel-image {
          object-fit: cover !important; 
          width: 100% !important;
          height: 100% !important;
          background-color: #0a0a0a;
      }

      .comic-btn {
        font-family: 'Bangers', cursive;
        letter-spacing: 1.5px;
        border: 3px solid black;
        box-shadow: 5px 5px 0px black;
        transition: all 0.1s ease;
        text-transform: uppercase;
        cursor: pointer;
        transform: translateZ(30px); 
      }
      .comic-btn:hover:not(:disabled) {
        transform: translateZ(30px) translate(-2px, -2px);
        box-shadow: 7px 7px 0px black;
      }
      .comic-btn:active:not(:disabled) {
        transform: translateZ(30px) translate(3px, 3px);
        box-shadow: 2px 2px 0px black;
      }
      .comic-btn:disabled {
        filter: grayscale(80%); opacity: 0.7; cursor: wait;
      }

      @media (max-width: 768px) {
        :root { 
             /* Fit double page spread in width. 
                100vw / 2 = 50vw per page. 
                Use 44vw to ensure margins and no overflow. */
             --page-width: 44vw;
             --page-height: calc(var(--page-width) * 1.5);
        }
        
        .comic-scene { 
             perspective: 2000px; 
             align-items: center;
             padding-top: 0;
             min-height: auto; /* Removed 100vh constraint */
             height: auto; 
             overflow: visible; 
             flex-direction: column;
             margin: 0; /* Reset margins on mobile */
             width: 100%;
        }

        /* Center the opened book */
        .book.opened { 
            transform: translateX(50%); /* Shifts right page to right half, spine at center */
        }
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.27.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "recharts": "https://aistudiocdn.com/recharts@^3.3.0",
    "jspdf": "https://aistudiocdn.com/jspdf@^3.0.3"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
